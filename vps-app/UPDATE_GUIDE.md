# SmartFlow ä»£ç æ›´æ–°æŒ‡å—

## ğŸš€ å¿«é€Ÿæ›´æ–°æµç¨‹

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ›´æ–°è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
# 1. ä¸Šä¼ æ›´æ–°çš„æ–‡ä»¶åˆ° VPS
scp -r vps-app/* root@47.237.163.85:/root/smartflow/

# 2. ç™»å½• VPS
ssh root@47.237.163.85

# 3. è¿›å…¥é¡¹ç›®ç›®å½•
cd /root/smartflow

# 4. è¿è¡Œæ›´æ–°è„šæœ¬
./update.sh
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨æ›´æ–°
```bash
# 1. ä¸Šä¼ æ›´æ–°çš„æ–‡ä»¶åˆ° VPS
scp -r vps-app/* root@47.237.163.85:/root/smartflow/

# 2. ç™»å½• VPS
ssh root@47.237.163.85

# 3. è¿›å…¥é¡¹ç›®ç›®å½•
cd /root/smartflow

# 4. é‡å¯åº”ç”¨
pm2 restart smartflow-app

# 5. æ£€æŸ¥çŠ¶æ€
pm2 status
```

## ğŸ“ éœ€è¦æ›´æ–°çš„æ ¸å¿ƒæ–‡ä»¶

### æœåŠ¡ç«¯æ›´æ–°
- `server.js` - ä¸»æœåŠ¡å™¨æ–‡ä»¶
- `package.json` - ä¾èµ–é…ç½®ï¼ˆå¦‚æœ‰å˜åŒ–ï¼‰

### å‰ç«¯æ›´æ–°
- `public/index.html` - ä¸»é¡µé¢
- `public/rollup-calculator.html` - è®¡ç®—å™¨é¡µé¢

## ğŸ” æ›´æ–°åæ£€æŸ¥

### 1. æ£€æŸ¥åº”ç”¨çŠ¶æ€
```bash
pm2 status
```
åº”è¯¥çœ‹åˆ° `smartflow-app` çŠ¶æ€ä¸º `online`

### 2. æ£€æŸ¥æ—¥å¿—
```bash
pm2 logs smartflow-app
```
æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### 3. æ£€æŸ¥ç½‘ç«™
è®¿é—® `https://smart.aimaventop.com` ç¡®è®¤åŠŸèƒ½æ­£å¸¸

## ğŸ› ï¸ å¸¸è§é—®é¢˜è§£å†³

### åº”ç”¨å¯åŠ¨å¤±è´¥
```bash
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
pm2 logs smartflow-app --err

# é‡å¯åº”ç”¨
pm2 restart smartflow-app

# å¦‚æœè¿˜æ˜¯å¤±è´¥ï¼Œæ£€æŸ¥ä¾èµ–
npm install
```

### ç«¯å£è¢«å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£ä½¿ç”¨æƒ…å†µ
netstat -tlnp | grep :3000

# æ€æ­»å ç”¨ç«¯å£çš„è¿›ç¨‹
kill -9 <PID>
```

### æ•°æ®åº“é—®é¢˜
```bash
# æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶
ls -la smartflow.db

# å¦‚æœæ•°æ®åº“æŸåï¼Œåˆ é™¤åé‡å¯åº”ç”¨ï¼ˆä¼šé‡æ–°åˆ›å»ºï¼‰
rm smartflow.db
pm2 restart smartflow-app
```

## ğŸ“Š ç›‘æ§å‘½ä»¤

### å®æ—¶ç›‘æ§
```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
pm2 logs smartflow-app --lines 100

# ç›‘æ§ç³»ç»Ÿèµ„æº
htop
```

### å®šæœŸæ£€æŸ¥
```bash
# æŸ¥çœ‹åº”ç”¨çŠ¶æ€
pm2 status

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
pm2 monit
```

## ğŸ”„ å›æ»šæ“ä½œ

å¦‚æœæ›´æ–°åå‡ºç°é—®é¢˜ï¼Œå¯ä»¥å›æ»šåˆ°ä¹‹å‰ç‰ˆæœ¬ï¼š

```bash
# æ¢å¤å¤‡ä»½æ–‡ä»¶
cp server.js.backup server.js
cp -r public.backup public

# é‡å¯åº”ç”¨
pm2 restart smartflow-app
```

## ğŸ“ æ›´æ–°è®°å½•

å»ºè®®æ¯æ¬¡æ›´æ–°åè®°å½•ï¼š
- æ›´æ–°æ—¥æœŸ
- æ›´æ–°å†…å®¹
- æµ‹è¯•ç»“æœ
- å¤‡æ³¨ä¿¡æ¯
