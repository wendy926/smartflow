# 15minä¿¡å·å®æ—¶æ›´æ–°é—®é¢˜è§£å†³æŠ¥å‘Š

## é—®é¢˜æè¿°
ç”¨æˆ·åé¦ˆ15minä¿¡å·éœ€è¦æ¸…é™¤ç¼“å­˜åæ‰èƒ½æ˜¾ç¤ºæ›´æ–°ï¼Œé¢„æœŸå½“è¡¨æ ¼æ•°æ®è®¡ç®—æœ‰æ›´æ–°æ—¶èƒ½åŠæ—¶æ˜¾ç¤ºåœ¨å‰ç«¯ï¼Œä¸éœ€è¦åˆ·æ–°æˆ–æ¸…é™¤ç¼“å­˜ã€‚

## é—®é¢˜åˆ†æ

### æ ¹æœ¬åŸå› 
**å‰ç«¯åˆ·æ–°é¢‘ç‡ä¸åç«¯æ•°æ®æ›´æ–°é¢‘ç‡ä¸åŒ¹é…**ï¼š

1. **æœåŠ¡ç«¯15minä¿¡å·æ›´æ–°é¢‘ç‡**ï¼šæ¯2åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ï¼ˆ`2 * 60 * 1000`æ¯«ç§’ï¼‰
2. **å‰ç«¯è‡ªåŠ¨åˆ·æ–°é¢‘ç‡**ï¼šæ¯5åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡ï¼ˆ`300000`æ¯«ç§’ï¼‰
3. **ç»“æœ**ï¼š15minä¿¡å·æ›´æ–°åï¼Œå‰ç«¯éœ€è¦ç­‰å¾…æœ€å¤š3åˆ†é’Ÿæ‰èƒ½çœ‹åˆ°æ›´æ–°

### æŠ€æœ¯åˆ†æ
- æœåŠ¡ç«¯å®šæ—¶ä»»åŠ¡æ¯2åˆ†é’Ÿæ‰§è¡Œ15minå…¥åœºåˆ¤æ–­
- å‰ç«¯æ¯5åˆ†é’Ÿæ‰åˆ·æ–°ä¸€æ¬¡æ•°æ®
- ç¼“å­˜æœºåˆ¶å¯¼è‡´æ•°æ®æ›´æ–°å»¶è¿Ÿ
- ç¼ºä¹å®æ—¶æ•°æ®å˜åŒ–æ£€æµ‹æœºåˆ¶

## è§£å†³æ–¹æ¡ˆ

### 1. ä¼˜åŒ–å‰ç«¯åˆ·æ–°é¢‘ç‡
```javascript
// ä¿®æ”¹å‰ï¼š5åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡
}, 300000); // 5åˆ†é’Ÿ = 300000æ¯«ç§’

// ä¿®æ”¹åï¼š2åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡ï¼ŒåŒ¹é…æœåŠ¡ç«¯æ›´æ–°é¢‘ç‡
}, 120000); // 2åˆ†é’Ÿ = 120000æ¯«ç§’ï¼ŒåŒ¹é…15minä¿¡å·æ›´æ–°é¢‘ç‡
```

### 2. æ·»åŠ æ•°æ®å˜åŒ–æ£€æµ‹API
æ–°å¢ `/api/data-change-status` ç«¯ç‚¹ï¼š
```javascript
// æ£€æŸ¥å„äº¤æ˜“å¯¹çš„15minä¿¡å·å˜åŒ–çŠ¶æ€
this.app.get('/api/data-change-status', async (req, res) => {
  const changeStatus = {};
  for (const symbol of symbols) {
    const analysis = await this.db.getLatestStrategyAnalysis(symbol);
    if (analysis) {
      const hasExecution = analysis.execution && 
        analysis.execution !== 'null' && 
        analysis.execution.includes('EXECUTE');
      
      changeStatus[symbol] = {
        hasExecution,
        lastUpdate: lastUpdate.toISOString(),
        timeDiffMinutes: Math.round(timeDiff),
        execution: analysis.execution,
        signal: analysis.signal
      };
    }
  }
  res.json({ success: true, data: changeStatus });
});
```

### 3. å®ç°æ™ºèƒ½åˆ·æ–°æœºåˆ¶
```javascript
// å¯åŠ¨15minä¿¡å·å˜åŒ–æ£€æµ‹ï¼ˆæ¯30ç§’æ£€æŸ¥ä¸€æ¬¡ï¼‰
this.signalChangeInterval = setInterval(async () => {
  try {
    await this.checkSignalChanges();
  } catch (error) {
    console.error('âŒ ä¿¡å·å˜åŒ–æ£€æµ‹å¤±è´¥:', error);
  }
}, 30000); // 30ç§’æ£€æŸ¥ä¸€æ¬¡

// æ£€æŸ¥15minä¿¡å·å˜åŒ–
async checkSignalChanges() {
  const response = await fetch('/api/data-change-status');
  const result = await response.json();
  
  if (result.success) {
    const changeStatus = result.data;
    let hasChanges = false;
    
    // æ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„15minä¿¡å·
    for (const [symbol, status] of Object.entries(changeStatus)) {
      if (status.hasExecution && status.timeDiffMinutes <= 3) { // 3åˆ†é’Ÿå†…çš„æ–°ä¿¡å·
        console.log(`ğŸš€ æ£€æµ‹åˆ°æ–°çš„15minä¿¡å· [${symbol}]: ${status.execution}`);
        hasChanges = true;
      }
    }

    if (hasChanges) {
      // ç«‹å³åˆ·æ–°æ•°æ®
      const [signals, stats] = await Promise.all([
        dataManager.getAllSignals(true), // å¼ºåˆ¶åˆ·æ–°
        dataManager.getWinRateStats()
      ]);
      
      this.updateStatsDisplay(signals, stats);
      this.updateSignalsTable(signals);
    }
  }
}
```

## æŠ€æœ¯å®ç°

### 1. åˆ·æ–°é¢‘ç‡ä¼˜åŒ–
- **ä¸»åˆ·æ–°**ï¼šæ¯2åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–°ï¼ŒåŒ¹é…æœåŠ¡ç«¯æ›´æ–°é¢‘ç‡
- **å˜åŒ–æ£€æµ‹**ï¼šæ¯30ç§’æ£€æŸ¥æ•°æ®å˜åŒ–ï¼Œç¡®ä¿åŠæ—¶å“åº”
- **æ™ºèƒ½åˆ·æ–°**ï¼šæ£€æµ‹åˆ°3åˆ†é’Ÿå†…çš„æ–°15minä¿¡å·æ—¶ç«‹å³åˆ·æ–°

### 2. æ•°æ®å˜åŒ–æ£€æµ‹
- ä½¿ç”¨æ–°çš„APIç«¯ç‚¹æ£€æŸ¥å„äº¤æ˜“å¯¹çš„çŠ¶æ€
- åŸºäºæ—¶é—´æˆ³åˆ¤æ–­ä¿¡å·çš„æ–°æ—§ç¨‹åº¦
- åªå¯¹3åˆ†é’Ÿå†…çš„æ–°ä¿¡å·è§¦å‘åˆ·æ–°

### 3. ç¼“å­˜ç®¡ç†
- ä¿æŒç°æœ‰çš„ç¼“å­˜æœºåˆ¶
- å¼ºåˆ¶åˆ·æ–°æ—¶æ¸…é™¤ç›¸å…³ç¼“å­˜
- é¿å…ä¸å¿…è¦çš„é¢‘ç¹åˆ·æ–°

## éƒ¨ç½²çŠ¶æ€

### 1. ä»£ç ä¿®æ”¹
- âœ… ä¼˜åŒ–å‰ç«¯åˆ·æ–°é¢‘ç‡ï¼ˆ5åˆ†é’Ÿ â†’ 2åˆ†é’Ÿï¼‰
- âœ… æ·»åŠ æ•°æ®å˜åŒ–æ£€æµ‹APIç«¯ç‚¹
- âœ… å®ç°æ™ºèƒ½åˆ·æ–°æœºåˆ¶
- âœ… æ›´æ–°ç¼“å­˜ç‰ˆæœ¬å·

### 2. éƒ¨ç½²éªŒè¯
- âœ… ä»£ç å·²æ¨é€åˆ°GitHub
- âœ… VPSå·²æ‹‰å–æœ€æ–°ä»£ç å¹¶é‡å¯æœåŠ¡
- âœ… APIç«¯ç‚¹æ­£å¸¸å·¥ä½œ
- âœ… å‰ç«¯å·²åŠ è½½æ–°ç‰ˆæœ¬JavaScriptæ–‡ä»¶

### 3. åŠŸèƒ½éªŒè¯
- âœ… æ•°æ®å˜åŒ–çŠ¶æ€APIæ­£å¸¸è¿”å›
- âœ… å‰ç«¯åˆ·æ–°é¢‘ç‡å·²ä¼˜åŒ–
- âœ… æ™ºèƒ½æ£€æµ‹æœºåˆ¶å·²å¯ç”¨

## é¢„æœŸæ•ˆæœ

### 1. å®æ—¶æ€§æå‡
- **ä¹‹å‰**ï¼š15minä¿¡å·æ›´æ–°åæœ€å¤šéœ€è¦ç­‰å¾…3åˆ†é’Ÿæ‰èƒ½æ˜¾ç¤º
- **ç°åœ¨**ï¼š15minä¿¡å·æ›´æ–°åæœ€å¤š30ç§’å†…å°±èƒ½æ˜¾ç¤º

### 2. ç”¨æˆ·ä½“éªŒæ”¹å–„
- æ— éœ€æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜
- æ— éœ€æ‰‹åŠ¨åˆ·æ–°é¡µé¢
- æ•°æ®å˜åŒ–è‡ªåŠ¨æ£€æµ‹å’Œæ˜¾ç¤º

### 3. ç³»ç»Ÿæ€§èƒ½
- ä¿æŒåˆç†çš„åˆ·æ–°é¢‘ç‡
- é¿å…è¿‡åº¦é¢‘ç¹çš„APIè°ƒç”¨
- æ™ºèƒ½æ£€æµ‹å‡å°‘ä¸å¿…è¦çš„åˆ·æ–°

## æŠ€æœ¯è¯´æ˜

### 1. åˆ·æ–°ç­–ç•¥
- **ä¸»åˆ·æ–°**ï¼šæ¯2åˆ†é’Ÿï¼Œç¡®ä¿æ•°æ®åŒæ­¥
- **å˜åŒ–æ£€æµ‹**ï¼šæ¯30ç§’ï¼Œç¡®ä¿åŠæ—¶å“åº”
- **æ™ºèƒ½åˆ·æ–°**ï¼šæ£€æµ‹åˆ°å˜åŒ–æ—¶ç«‹å³åˆ·æ–°

### 2. æ£€æµ‹æœºåˆ¶
- åŸºäºAPIç«¯ç‚¹æ£€æŸ¥æ•°æ®å˜åŒ–
- æ—¶é—´æˆ³æ¯”è¾ƒåˆ¤æ–­ä¿¡å·æ–°æ—§
- åªå¯¹è¿‘æœŸå˜åŒ–è§¦å‘åˆ·æ–°

### 3. é”™è¯¯å¤„ç†
- APIè°ƒç”¨å¤±è´¥æ—¶ä¸å½±å“ä¸»åˆ·æ–°
- æ—¶é—´å¤„ç†å¼‚å¸¸æ—¶æä¾›é»˜è®¤å€¼
- ç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§

## æ€»ç»“

15minä¿¡å·å®æ—¶æ›´æ–°é—®é¢˜å·²å®Œå…¨è§£å†³ï¼š

1. **é—®é¢˜æ ¹æº**ï¼šå‰ç«¯åˆ·æ–°é¢‘ç‡ä¸åç«¯æ›´æ–°é¢‘ç‡ä¸åŒ¹é…
2. **è§£å†³æ–¹æ¡ˆ**ï¼šä¼˜åŒ–åˆ·æ–°é¢‘ç‡ + æ™ºèƒ½å˜åŒ–æ£€æµ‹
3. **æŠ€æœ¯å®ç°**ï¼šAPIç«¯ç‚¹ + å®šæ—¶æ£€æµ‹ + æ™ºèƒ½åˆ·æ–°
4. **é¢„æœŸæ•ˆæœ**ï¼š15minä¿¡å·æ›´æ–°å30ç§’å†…æ˜¾ç¤º

ç°åœ¨ç”¨æˆ·å¯ä»¥çœ‹åˆ°15minä¿¡å·çš„å®æ—¶æ›´æ–°ï¼Œæ— éœ€æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜æˆ–åˆ·æ–°é¡µé¢ï¼ğŸ‰

## ç›¸å…³æ–‡ä»¶
- `vps-app/public/js/main.js` - å‰ç«¯åˆ·æ–°é€»è¾‘
- `vps-app/server.js` - æ•°æ®å˜åŒ–æ£€æµ‹API
- `vps-app/public/index.html` - ç¼“å­˜ç‰ˆæœ¬å·
