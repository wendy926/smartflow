<!DOCTYPE html>
<html>
<head>
    <title>JavaScript调试</title>
</head>
<body>
    <h1>JavaScript调试</h1>
    <div id="debug-info"></div>
    
    <script src="js/api.js"></script>
    <script src="js/data/DataManager.js"></script>
    <script src="js/main.js"></script>
    <script>
        function debugInfo() {
            const info = document.getElementById('debug-info');
            let html = '<h2>调试信息</h2>';
            
            // 检查API客户端
            html += '<p>API客户端: ' + (window.apiClient ? '✅ 已加载' : '❌ 未加载') + '</p>';
            
            // 检查DataManager
            html += '<p>DataManager: ' + (window.DataManager ? '✅ 已加载' : '❌ 未加载') + '</p>';
            
            // 检查SmartFlowApp
            html += '<p>SmartFlowApp: ' + (window.SmartFlowApp ? '✅ 已加载' : '❌ 未加载') + '</p>';
            
            // 检查app实例
            html += '<p>app实例: ' + (window.app ? '✅ 已创建' : '❌ 未创建') + '</p>';
            
            // 检查表格
            const tableBody = document.getElementById('simulationTableBody');
            if (tableBody) {
                html += '<p>表格体: ✅ 找到</p>';
                html += '<p>表格行数: ' + tableBody.children.length + '</p>';
                html += '<p>表格内容: ' + tableBody.innerHTML.substring(0, 100) + '...</p>';
            } else {
                html += '<p>表格体: ❌ 未找到</p>';
            }
            
            info.innerHTML = html;
        }
        
        // 页面加载完成后执行调试
        window.addEventListener('load', () => {
            console.log('页面加载完成，开始调试...');
            debugInfo();
        });
    </script>
</body>
</html>
