# æ•°æ®åº“è¡¨å®Œæ•´åˆ†æžä¸Žå†—ä½™æ£€æŸ¥

**åˆ†æžæ—¥æœŸ**: 2025-10-10  
**æ•°æ®åº“**: trading_system  
**æ€»è¡¨æ•°**: 25ä¸ªæ ¸å¿ƒè¡¨

---

## ðŸ“Š è¡¨åˆ†ç±»ä¸Žä½œç”¨

### 1ï¸âƒ£ æ ¸å¿ƒåŸºç¡€è¡¨ï¼ˆ6ä¸ªï¼‰

#### 1.1 `symbols` - äº¤æ˜“å¯¹ç®¡ç†è¡¨ â­
**ä½œç”¨**: ç®¡ç†æ‰€æœ‰äº¤æ˜“å¯¹çš„åŸºæœ¬ä¿¡æ¯  
**å…³é”®å­—æ®µ**: symbol, status, funding_rate, last_price  
**æ•°æ®é‡**: çº¦11æ¡ï¼ˆæ´»è·ƒäº¤æ˜“å¯¹ï¼‰  
**æ›´æ–°é¢‘çŽ‡**: å®žæ—¶æ›´æ–°ï¼ˆä»·æ ¼ã€èµ„é‡‘è´¹çŽ‡ï¼‰  
**ä¾èµ–**: è¢«æ‰€æœ‰äº¤æ˜“ç›¸å…³è¡¨å¤–é”®å¼•ç”¨  
**çŠ¶æ€**: âœ… å¿…éœ€ï¼Œæ— å†—ä½™

#### 1.2 `simulation_trades` - æ¨¡æ‹Ÿäº¤æ˜“è®°å½•è¡¨ â­â­â­
**ä½œç”¨**: è®°å½•æ‰€æœ‰äº¤æ˜“çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸ  
**å…³é”®å­—æ®µ**: entry_price, stop_loss, take_profit, pnl, status  
**æ•°æ®é‡**: éšäº¤æ˜“ç´¯ç§¯ï¼ˆå½“å‰çº¦28æ¡ï¼‰  
**æ›´æ–°é¢‘çŽ‡**: äº¤æ˜“è§¦å‘æ—¶åˆ›å»ºï¼Œæ­¢ç›ˆ/æ­¢æŸæ—¶æ›´æ–°  
**æ‰©å±•**: 
- v3-optimization: 10ä¸ªå­—æ®µ
- v3.1-optimization: 26ä¸ªå­—æ®µ  
**çŠ¶æ€**: âœ… å¿…éœ€ï¼Œæ ¸å¿ƒè¡¨

#### 1.3 `strategy_judgments` - ç­–ç•¥åˆ¤æ–­è®°å½•è¡¨
**ä½œç”¨**: è®°å½•æ¯æ¬¡ç­–ç•¥æ‰§è¡Œçš„åˆ¤æ–­ç»“æžœ  
**å…³é”®å­—æ®µ**: strategy_name, trend_direction, entry_signal, confidence_score  
**æ•°æ®é‡**: ç†è®ºå¤§ï¼ˆæ¯5åˆ†é’Ÿæ‰§è¡Œï¼‰  
**æ›´æ–°é¢‘çŽ‡**: æ¯5åˆ†é’Ÿ/æ¯ä¸ªäº¤æ˜“å¯¹  
**æ‰©å±•**: v3-optimizationæ·»åŠ 10ä¸ªå­—æ®µ  
**çŠ¶æ€**: âš ï¸ **å­˜åœ¨å†—ä½™é—®é¢˜**ï¼ˆè§åŽæ–‡åˆ†æžï¼‰

#### 1.4 `symbol_statistics` - äº¤æ˜“å¯¹ç»Ÿè®¡è¡¨
**ä½œç”¨**: å­˜å‚¨æ¯ä¸ªäº¤æ˜“å¯¹çš„ç»Ÿè®¡æ•°æ®  
**å…³é”®å­—æ®µ**: total_trades, win_rate, total_pnl, sharpe_ratio  
**æ•°æ®é‡**: å°ï¼ˆäº¤æ˜“å¯¹Ã—ç­–ç•¥Ã—æ—¶é—´æ¡†æž¶ï¼‰  
**æ›´æ–°é¢‘çŽ‡**: äº¤æ˜“å…³é—­æ—¶æ›´æ–°  
**çŠ¶æ€**: âœ… å¿…éœ€ï¼Œèšåˆç»Ÿè®¡

#### 1.5 `system_monitoring` - ç³»ç»Ÿç›‘æŽ§æ•°æ®è¡¨
**ä½œç”¨**: è®°å½•ç³»ç»Ÿèµ„æºå’ŒAPIç›‘æŽ§æ•°æ®  
**å…³é”®å­—æ®µ**: metric_name, metric_value, component, status  
**æ•°æ®é‡**: ä¸­ç­‰ï¼ˆæ¯30ç§’è®°å½•ï¼‰  
**æ›´æ–°é¢‘çŽ‡**: 30ç§’/æ¬¡  
**æ¸…ç†**: 30å¤©å‰æ•°æ®  
**çŠ¶æ€**: âœ… å¿…éœ€

#### 1.6 `system_config` - ç³»ç»Ÿé…ç½®è¡¨
**ä½œç”¨**: å­˜å‚¨ç³»ç»Ÿå…¨å±€é…ç½®å‚æ•°  
**å…³é”®å­—æ®µ**: config_key, config_value, config_type  
**æ•°æ®é‡**: å°ï¼ˆçº¦50æ¡é…ç½®ï¼‰  
**æ›´æ–°é¢‘çŽ‡**: æžä½Žï¼ˆæ‰‹åŠ¨é…ç½®ï¼‰  
**çŠ¶æ€**: âœ… å¿…éœ€

---

### 2ï¸âƒ£ V3ç­–ç•¥ç›¸å…³è¡¨ï¼ˆ6ä¸ªï¼‰

#### 2.1 `v3_strategy_config` - V3ç­–ç•¥é…ç½®è¡¨
**ä½œç”¨**: V3ç­–ç•¥çš„å‚æ•°é…ç½®ï¼ˆå¤šå¥—é…ç½®ï¼‰  
**å…³é”®å­—æ®µ**: config_name, adx_threshold, atr_multiplier_base  
**æ•°æ®é‡**: æžå°ï¼ˆ3å¥—é…ç½®ï¼šdefault/conservative/aggressiveï¼‰  
**çŠ¶æ€**: âš ï¸ **å¯èƒ½å†—ä½™**ï¼ˆä¸Žsystem_configé‡å¤ï¼‰

#### 2.2 `v3_telemetry` - V3ç­–ç•¥é¥æµ‹è¡¨
**ä½œç”¨**: è®°å½•V3ç­–ç•¥æ‰§è¡Œçš„è¯¦ç»†é¥æµ‹æ•°æ®  
**å…³é”®å­—æ®µ**: trend_score, factor_score, execution_score, signal_result  
**æ•°æ®é‡**: ç†è®ºå¤§ï¼ˆæ¯æ¬¡ç­–ç•¥æ‰§è¡Œï¼‰  
**çŠ¶æ€**: âš ï¸ **ä¸Žstrategy_judgmentsé«˜åº¦é‡å¤**

#### 2.3 `v3_win_rate_history` - V3ç­–ç•¥èƒœçŽ‡åŽ†å²è¡¨
**ä½œç”¨**: è®°å½•ä¸åŒæ—¶é—´æ®µçš„èƒœçŽ‡åŽ†å²  
**å…³é”®å­—æ®µ**: period_start, period_end, win_rate, avg_return  
**æ•°æ®é‡**: ä¸­ç­‰ï¼ˆæŒ‰æ—¶é—´çª—å£èšåˆï¼‰  
**çŠ¶æ€**: âš ï¸ **å¯ä»Žsimulation_tradesè®¡ç®—å¾—å‡º**

#### 2.4 `v3_1_signal_logs` - V3.1ç­–ç•¥ä¿¡å·æ—¥å¿—è¡¨ â­â­
**ä½œç”¨**: è®°å½•V3.1æ¯æ¬¡ä¿¡å·çš„å®Œæ•´å†³ç­–è¿‡ç¨‹ï¼ˆæ–°å¢žï¼‰  
**å…³é”®å­—æ®µ**: early_trend_detected, filter_result, confidence, final_signal  
**æ•°æ®é‡**: ç†è®ºå¤§ï¼ˆæ¯æ¬¡ç­–ç•¥æ‰§è¡Œï¼‰  
**ä»·å€¼**: âœ… é«˜ä»·å€¼ï¼Œç”¨äºŽå›žæµ‹å’Œå‚æ•°ä¼˜åŒ–  
**çŠ¶æ€**: âœ… å¿…éœ€ï¼ŒV3.1æ ¸å¿ƒè¡¨

#### 2.5 `v3_1_strategy_params` - V3.1ç­–ç•¥å‚æ•°è¡¨ â­
**ä½œç”¨**: V3.1ç­–ç•¥çš„å¯é…ç½®å‚æ•°ï¼ˆæ–°å¢žï¼‰  
**å…³é”®å­—æ®µ**: param_name, param_value, category  
**æ•°æ®é‡**: æžå°ï¼ˆ21ä¸ªå‚æ•°ï¼‰  
**ä»·å€¼**: âœ… æ”¯æŒçƒ­æ›´æ–°ï¼Œæ— éœ€æ”¹ä»£ç   
**çŠ¶æ€**: âœ… å¿…éœ€

#### 2.6 `strategy_judgments` æ‰©å±•å­—æ®µ
**v3-optimizationæ·»åŠ **: 10ä¸ªå­—æ®µï¼ˆtrend_confidence, macd_alignedç­‰ï¼‰  
**çŠ¶æ€**: âš ï¸ **å­—æ®µå†—ä½™**ï¼Œéƒ¨åˆ†å­—æ®µå¯åˆå¹¶åˆ°JSON

---

### 3ï¸âƒ£ ICTç­–ç•¥ç›¸å…³è¡¨ï¼ˆ3ä¸ªï¼‰

#### 3.1 `ict_telemetry` - ICTç­–ç•¥é¥æµ‹è¡¨
**ä½œç”¨**: è®°å½•ICTç­–ç•¥æ‰§è¡Œçš„é¥æµ‹æ•°æ®  
**å…³é”®å­—æ®µ**: order_block_score, sweep_score, engulfing_score  
**çŠ¶æ€**: âš ï¸ **ä¸Žstrategy_judgmentsé‡å¤**

#### 3.2 `ict_win_rate_history` - ICTç­–ç•¥èƒœçŽ‡åŽ†å²è¡¨
**ä½œç”¨**: ICTç­–ç•¥çš„èƒœçŽ‡åŽ†å²  
**çŠ¶æ€**: âš ï¸ **ä¸Žv3_win_rate_historyåŠŸèƒ½é‡å¤**

#### 3.3 `ict_strategy_config` - ICTç­–ç•¥é…ç½®è¡¨
**ä½œç”¨**: ICTç­–ç•¥å‚æ•°é…ç½®  
**çŠ¶æ€**: âš ï¸ **ä¸Žsystem_configåŠŸèƒ½é‡å¤**

---

### 4ï¸âƒ£ AIåˆ†æžç›¸å…³è¡¨ï¼ˆ4ä¸ªï¼‰

#### 4.1 `ai_config` - AIé…ç½®è¡¨
**ä½œç”¨**: AIæä¾›å•†é…ç½®ï¼ˆOpenAI, Grok, DeepSeekï¼‰  
**å…³é”®å­—æ®µ**: provider_name, api_key, is_active, priority  
**çŠ¶æ€**: âœ… å¿…éœ€

#### 4.2 `ai_market_analysis` - AIå¸‚åœºåˆ†æžè¡¨ â­
**ä½œç”¨**: å­˜å‚¨AIåˆ†æžç»“æžœ  
**å…³é”®å­—æ®µ**: symbol, analysis_type, confidence_score, risk_level  
**æ•°æ®é‡**: æ¯å°æ—¶11ä¸ªäº¤æ˜“å¯¹  
**çŠ¶æ€**: âœ… å¿…éœ€

#### 4.3 `ai_alert_history` - AIå‘Šè­¦åŽ†å²è¡¨
**ä½œç”¨**: è®°å½•AIåˆ†æžè§¦å‘çš„å‘Šè­¦  
**çŠ¶æ€**: âœ… å¿…éœ€ï¼ˆTelegramé€šçŸ¥åŽ†å²ï¼‰

#### 4.4 `ai_api_logs` - AI APIè°ƒç”¨æ—¥å¿—è¡¨
**ä½œç”¨**: è®°å½•AI APIè°ƒç”¨è¯¦æƒ…  
**å…³é”®å­—æ®µ**: provider, tokens_used, cost  
**çŠ¶æ€**: âœ… å¿…éœ€ï¼ˆæˆæœ¬è¿½è¸ªï¼‰

---

### 5ï¸âƒ£ Telegramç›¸å…³è¡¨ï¼ˆ2ä¸ªï¼‰

#### 5.1 `telegram_config` - Telegramé…ç½®è¡¨
**ä½œç”¨**: å­˜å‚¨Telegramé€šçŸ¥é…ç½®  
**çŠ¶æ€**: âœ… å¿…éœ€

#### 5.2 `macro_alert_thresholds` - å®è§‚å‘Šè­¦é˜ˆå€¼è¡¨
**ä½œç”¨**: é…ç½®å‘Šè­¦è§¦å‘é˜ˆå€¼  
**çŠ¶æ€**: âš ï¸ **å¯åˆå¹¶åˆ°system_config**

---

### 6ï¸âƒ£ æ–°å¸ç›‘æŽ§ç›¸å…³è¡¨ï¼ˆ6ä¸ªï¼‰

#### 6.1 `new_coins` - æ–°å¸åŸºç¡€è¡¨
**çŠ¶æ€**: âš ï¸ **æœªä½¿ç”¨åŠŸèƒ½**

#### 6.2 `new_coin_scores` - æ–°å¸è¯„åˆ†è¡¨
**çŠ¶æ€**: âš ï¸ **æœªä½¿ç”¨åŠŸèƒ½**

#### 6.3 `new_coin_market_data` - æ–°å¸å¸‚åœºæ•°æ®è¡¨
**çŠ¶æ€**: âš ï¸ **æœªä½¿ç”¨åŠŸèƒ½**

#### 6.4 `new_coin_github_data` - æ–°å¸GitHubæ•°æ®è¡¨
**çŠ¶æ€**: âš ï¸ **æœªä½¿ç”¨åŠŸèƒ½**

#### 6.5 `new_coin_monitor_config` - æ–°å¸ç›‘æŽ§é…ç½®è¡¨
**çŠ¶æ€**: âš ï¸ **æœªä½¿ç”¨åŠŸèƒ½**

#### 6.6 `new_coin_alerts` - æ–°å¸å‘Šè­¦è¡¨
**çŠ¶æ€**: âš ï¸ **æœªä½¿ç”¨åŠŸèƒ½**

---

### 7ï¸âƒ£ å®è§‚ç›‘æŽ§ç›¸å…³è¡¨ï¼ˆ3ä¸ªï¼‰

#### 7.1 `macro_monitoring_data` - å®è§‚ç›‘æŽ§æ•°æ®è¡¨
**çŠ¶æ€**: âš ï¸ **ä¸Žsystem_monitoringåŠŸèƒ½é‡å¤**

#### 7.2 `macro_monitoring_config` - å®è§‚ç›‘æŽ§é…ç½®è¡¨
**çŠ¶æ€**: âš ï¸ **ä¸Žsystem_configåŠŸèƒ½é‡å¤**

#### 7.3 `macro_monitoring_alerts` - å®è§‚ç›‘æŽ§å‘Šè­¦è¡¨
**çŠ¶æ€**: âš ï¸ **ä¸Žai_alert_historyåŠŸèƒ½é‡å¤**

---

## âš ï¸ å†—ä½™ä¸Žé‡å¤é—®é¢˜åˆ†æž

### ðŸ”´ ä¸¥é‡å†—ä½™ï¼ˆå»ºè®®ä¼˜åŒ–ï¼‰

#### 1. ç­–ç•¥é¥æµ‹è¡¨é‡å¤
**é—®é¢˜**:
```
strategy_judgments       (é€šç”¨ç­–ç•¥åˆ¤æ–­)
â”œâ”€â”€ v3_telemetry        (V3é¥æµ‹) âŒ å†—ä½™
â”œâ”€â”€ ict_telemetry       (ICTé¥æµ‹) âŒ å†—ä½™
â””â”€â”€ v3_1_signal_logs    (V3.1æ—¥å¿—) âš ï¸ éƒ¨åˆ†é‡å¤
```

**åˆ†æž**:
- `strategy_judgments`: è®°å½•ç­–ç•¥åˆ¤æ–­ï¼ˆæ¯5åˆ†é’Ÿï¼Œä½†ä¸å­˜å‚¨åˆ°æ•°æ®åº“ï¼‰
- `v3_telemetry`: è®°å½•V3è¯¦ç»†æ•°æ®ï¼ˆåŠŸèƒ½ä¸Žstrategy_judgments 90%é‡å¤ï¼‰
- `ict_telemetry`: è®°å½•ICTè¯¦ç»†æ•°æ®ï¼ˆåŠŸèƒ½ä¸Žstrategy_judgments 90%é‡å¤ï¼‰
- `v3_1_signal_logs`: è®°å½•V3.1å®Œæ•´å†³ç­–é“¾ï¼ˆåŒ…å«æ–°ä¼˜åŒ–æ¨¡å—ï¼‰

**å†—ä½™åº¦**: 90%

**ä¼˜åŒ–å»ºè®®**:
```sql
-- æ–¹æ¡ˆ1: ç»Ÿä¸€é¥æµ‹è¡¨
CREATE TABLE strategy_execution_logs (
    id BIGINT PRIMARY KEY,
    symbol_id INT,
    strategy_name ENUM('V3', 'V3.1', 'ICT'),
    execution_data JSON,  -- å­˜å‚¨æ‰€æœ‰ç­–ç•¥ç‰¹å®šæ•°æ®
    common_fields ...     -- é€šç”¨å­—æ®µ
);

-- æ–¹æ¡ˆ2: ä¿ç•™v3_1_signal_logsï¼Œåˆ é™¤v3_telemetryå’Œict_telemetry
-- å› ä¸ºv3_1_signal_logsåŒ…å«å®Œæ•´å†³ç­–é“¾ï¼Œä»·å€¼æ›´é«˜
```

#### 2. ç­–ç•¥é…ç½®è¡¨é‡å¤
**é—®é¢˜**:
```
system_config            (ç³»ç»Ÿé…ç½®)
â”œâ”€â”€ v3_strategy_config  (V3é…ç½®) âŒ å†—ä½™
â”œâ”€â”€ ict_strategy_config (ICTé…ç½®) âŒ å†—ä½™
â”œâ”€â”€ v3_1_strategy_params (V3.1å‚æ•°) âœ… ä¿ç•™ï¼ˆè®¾è®¡æ›´å¥½ï¼‰
â””â”€â”€ macro_alert_thresholds âŒ å†—ä½™
```

**å†—ä½™åº¦**: 80%

**ä¼˜åŒ–å»ºè®®**:
```sql
-- ç»Ÿä¸€é…ç½®è¡¨è®¾è®¡ï¼ˆå‚è€ƒv3_1_strategy_paramsï¼‰
CREATE TABLE strategy_params (
    id INT PRIMARY KEY,
    strategy_name VARCHAR(50),  -- 'V3', 'ICT', 'V3.1'
    param_name VARCHAR(50),
    param_value VARCHAR(100),
    param_type VARCHAR(20),
    category VARCHAR(50),
    is_active TINYINT(1)
);

-- åˆ é™¤: v3_strategy_config, ict_strategy_config
-- ä¿ç•™: v3_1_strategy_params (æˆ–é‡å‘½åä¸ºstrategy_params)
```

#### 3. èƒœçŽ‡åŽ†å²è¡¨é‡å¤
**é—®é¢˜**:
```
v3_win_rate_history     (V3èƒœçŽ‡åŽ†å²) âŒ å¯è®¡ç®—
ict_win_rate_history    (ICTèƒœçŽ‡åŽ†å²) âŒ å¯è®¡ç®—
```

**å†—ä½™åº¦**: 100%ï¼ˆå¯ä»Žsimulation_tradeså®žæ—¶è®¡ç®—ï¼‰

**ä¼˜åŒ–å»ºè®®**:
```sql
-- åˆ é™¤è¿™ä¸¤ä¸ªè¡¨ï¼Œæ”¹ç”¨è§†å›¾
CREATE VIEW strategy_win_rate_history AS
SELECT 
    symbol_id,
    strategy_name,
    DATE(entry_time) as trade_date,
    COUNT(*) as total_trades,
    SUM(CASE WHEN pnl > 0 THEN 1 ELSE 0 END) as winning_trades,
    AVG(CASE WHEN pnl > 0 THEN 1 ELSE 0 END) as win_rate
FROM simulation_trades
WHERE status = 'CLOSED'
GROUP BY symbol_id, strategy_name, DATE(entry_time);
```

#### 4. ç›‘æŽ§è¡¨é‡å¤
**é—®é¢˜**:
```
system_monitoring       (ç³»ç»Ÿç›‘æŽ§)
macro_monitoring_data   (å®è§‚ç›‘æŽ§) âŒ å†—ä½™ 85%
```

**ä¼˜åŒ–å»ºè®®**: åˆå¹¶åˆ°system_monitoringï¼Œæ·»åŠ categoryå­—æ®µåŒºåˆ†

---

### ðŸŸ¡ ä¸­åº¦å†—ä½™ï¼ˆå¯ä¼˜åŒ–ï¼‰

#### 5. strategy_judgments å­—æ®µè†¨èƒ€
**é—®é¢˜**:
- åŽŸå§‹å­—æ®µ: 8ä¸ª
- v3-optimization: +10ä¸ªå­—æ®µ
- éƒ¨åˆ†å­—æ®µå¯åˆå¹¶åˆ°indicators_data JSONä¸­

**ä¼˜åŒ–å»ºè®®**:
```sql
-- å°†ä½Žé¢‘è®¿é—®å­—æ®µç§»åˆ°JSON
ALTER TABLE strategy_judgments 
DROP COLUMN macd_aligned,
DROP COLUMN decorrelated_score,
DROP COLUMN trend_persistence,
...
-- æ”¹ä¸ºåœ¨indicators_data JSONä¸­å­˜å‚¨
```

#### 6. simulation_trades å­—æ®µè†¨èƒ€
**é—®é¢˜**:
- åŽŸå§‹å­—æ®µ: 13ä¸ª
- v3.1-optimization: +26ä¸ªå­—æ®µ
- æ€»å…±39ä¸ªå­—æ®µï¼Œå•è¡¨è¿‡å¤§

**ä¼˜åŒ–å»ºè®®**:
```sql
-- å°†V3.1è¯¦ç»†æ•°æ®ç§»åˆ°v3_1_signal_logs
-- simulation_tradesåªä¿ç•™æ ¸å¿ƒäº¤æ˜“å­—æ®µ
-- é€šè¿‡å…³è”æŸ¥è¯¢èŽ·å–è¯¦ç»†æ•°æ®
```

---

### ðŸŸ¢ æœªä½¿ç”¨åŠŸèƒ½ï¼ˆå»ºè®®åˆ é™¤ï¼‰

#### 7. æ–°å¸ç›‘æŽ§æ¨¡å—ï¼ˆ6ä¸ªè¡¨ï¼‰
**çŠ¶æ€**: å®Œå…¨æœªä½¿ç”¨
**å»ºè®®**: åˆ é™¤æ‰€æœ‰new_coin_*è¡¨

#### 8. å®è§‚ç›‘æŽ§æ¨¡å—ï¼ˆ3ä¸ªè¡¨ï¼‰
**çŠ¶æ€**: åŠŸèƒ½ä¸Žsystem_monitoringé‡å¤
**å»ºè®®**: åˆ é™¤macro_monitoring_*è¡¨

---

## ðŸ“‹ ä¼˜åŒ–å»ºè®®æ€»ç»“

### ç«‹å³ä¼˜åŒ–ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

#### 1. åˆ é™¤æœªä½¿ç”¨è¡¨ï¼ˆ9ä¸ªï¼‰
```sql
-- æ–°å¸ç›‘æŽ§æ¨¡å—
DROP TABLE IF EXISTS new_coins;
DROP TABLE IF EXISTS new_coin_scores;
DROP TABLE IF EXISTS new_coin_market_data;
DROP TABLE IF EXISTS new_coin_github_data;
DROP TABLE IF EXISTS new_coin_monitor_config;
DROP TABLE IF EXISTS new_coin_alerts;

-- å®è§‚ç›‘æŽ§æ¨¡å—ï¼ˆä¸Žsystem_monitoringé‡å¤ï¼‰
DROP TABLE IF EXISTS macro_monitoring_data;
DROP TABLE IF EXISTS macro_monitoring_config;
DROP TABLE IF EXISTS macro_monitoring_alerts;
```

**æ”¶ç›Š**: å‡å°‘9ä¸ªè¡¨ï¼Œç®€åŒ–æ•°æ®åº“ç»“æž„

#### 2. åˆå¹¶ç­–ç•¥é¥æµ‹è¡¨
```sql
-- åˆ é™¤å†—ä½™é¥æµ‹è¡¨
DROP TABLE IF EXISTS v3_telemetry;
DROP TABLE IF EXISTS ict_telemetry;

-- ä¿ç•™v3_1_signal_logsï¼Œæ‰©å±•æ”¯æŒICT
ALTER TABLE v3_1_signal_logs 
ADD COLUMN strategy_type ENUM('V3', 'V3.1', 'ICT');

-- æˆ–é‡å‘½åä¸ºæ›´é€šç”¨çš„åç§°
RENAME TABLE v3_1_signal_logs TO strategy_execution_logs;
```

**æ”¶ç›Š**: å‡å°‘2ä¸ªè¡¨ï¼Œç»Ÿä¸€é¥æµ‹æ•°æ®

#### 3. åˆ é™¤èƒœçŽ‡åŽ†å²è¡¨ï¼ˆæ”¹ç”¨è§†å›¾ï¼‰
```sql
DROP TABLE IF EXISTS v3_win_rate_history;
DROP TABLE IF EXISTS ict_win_rate_history;

-- åˆ›å»ºè§†å›¾æ›¿ä»£
CREATE VIEW strategy_win_rate_history AS ...;
```

**æ”¶ç›Š**: å‡å°‘2ä¸ªè¡¨ï¼Œæ•°æ®å®žæ—¶è®¡ç®—ï¼Œæ— åŒæ­¥é—®é¢˜

#### 4. åˆå¹¶é…ç½®è¡¨
```sql
-- å°†æ‰€æœ‰é…ç½®åˆå¹¶åˆ°v3_1_strategy_paramsé£Žæ ¼
-- æˆ–åˆ›å»ºç»Ÿä¸€çš„strategy_paramsè¡¨
```

**æ”¶ç›Š**: å‡å°‘3ä¸ªè¡¨ï¼Œç»Ÿä¸€é…ç½®ç®¡ç†

---

### ä¸­æœŸä¼˜åŒ–ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

#### 5. strategy_judgments å­—æ®µä¼˜åŒ–
```sql
-- å°†ä½Žé¢‘å­—æ®µç§»åˆ°JSON
-- å‡å°‘å­—æ®µæ•°é‡ï¼Œæé«˜æŸ¥è¯¢æ€§èƒ½
```

#### 6. simulation_trades å­—æ®µä¼˜åŒ–
```sql
-- å°†V3.1è¯¦ç»†æ•°æ®å…³è”åˆ°v3_1_signal_logs
-- å‡å°‘å•è¡¨å­—æ®µæ•°é‡
```

---

## ðŸ“Š ä¼˜åŒ–åŽè¡¨ç»“æž„

### æ ¸å¿ƒè¡¨ï¼ˆ11ä¸ªï¼‰

```
æ ¸å¿ƒåŸºç¡€è¡¨ (6ä¸ª)
â”œâ”€â”€ symbols                    âœ… äº¤æ˜“å¯¹ç®¡ç†
â”œâ”€â”€ simulation_trades          âœ… äº¤æ˜“è®°å½•ï¼ˆä¼˜åŒ–åŽï¼‰
â”œâ”€â”€ strategy_judgments         âœ… ç­–ç•¥åˆ¤æ–­ï¼ˆä¼˜åŒ–åŽï¼‰
â”œâ”€â”€ symbol_statistics          âœ… äº¤æ˜“ç»Ÿè®¡
â”œâ”€â”€ system_monitoring          âœ… ç³»ç»Ÿç›‘æŽ§
â””â”€â”€ system_config              âœ… ç³»ç»Ÿé…ç½®

ç­–ç•¥æ‰§è¡Œè¡¨ (2ä¸ª)
â”œâ”€â”€ strategy_execution_logs    âœ… ç»Ÿä¸€é¥æµ‹ï¼ˆåŽŸv3_1_signal_logsï¼‰
â””â”€â”€ strategy_params            âœ… ç»Ÿä¸€å‚æ•°ï¼ˆåŽŸv3_1_strategy_paramsï¼‰

AIç›¸å…³è¡¨ (4ä¸ª)
â”œâ”€â”€ ai_config                  âœ… AIé…ç½®
â”œâ”€â”€ ai_market_analysis         âœ… AIåˆ†æž
â”œâ”€â”€ ai_alert_history           âœ… AIå‘Šè­¦
â””â”€â”€ ai_api_logs                âœ… AIæ—¥å¿—

Telegramç›¸å…³ (1ä¸ª)
â””â”€â”€ telegram_config            âœ… Telegramé…ç½®
```

### åˆ é™¤è¡¨ï¼ˆ13ä¸ªï¼‰

```
ç­–ç•¥å†—ä½™è¡¨ (4ä¸ª)
â”œâ”€â”€ v3_telemetry              âŒ åˆ é™¤
â”œâ”€â”€ ict_telemetry             âŒ åˆ é™¤
â”œâ”€â”€ v3_win_rate_history       âŒ æ”¹ç”¨è§†å›¾
â””â”€â”€ ict_win_rate_history      âŒ æ”¹ç”¨è§†å›¾

é…ç½®å†—ä½™è¡¨ (3ä¸ª)
â”œâ”€â”€ v3_strategy_config        âŒ åˆå¹¶åˆ°strategy_params
â”œâ”€â”€ ict_strategy_config       âŒ åˆå¹¶åˆ°strategy_params
â””â”€â”€ macro_alert_thresholds    âŒ åˆå¹¶åˆ°system_config

æœªä½¿ç”¨è¡¨ (6ä¸ª)
â””â”€â”€ new_coin_* (6ä¸ªè¡¨å…¨éƒ¨åˆ é™¤) âŒ
```

---

## ðŸŽ¯ ä¼˜åŒ–æ”¶ç›Šé¢„ä¼°

### æ•°æ®åº“å±‚é¢
- **è¡¨æ•°é‡**: 25ä¸ª â†’ 12ä¸ªï¼ˆå‡å°‘52%ï¼‰
- **å­˜å‚¨ç©ºé—´**: é¢„è®¡å‡å°‘30-40%
- **ç»´æŠ¤æˆæœ¬**: é™ä½Ž50%
- **æŸ¥è¯¢å¤æ‚åº¦**: é™ä½Ž40%

### å¼€å‘å±‚é¢
- **ä»£ç å¤æ‚åº¦**: é™ä½Ž30%
- **é…ç½®ç®¡ç†**: æ›´ç»Ÿä¸€ç®€æ´
- **æ•°æ®ä¸€è‡´æ€§**: æ˜¾è‘—æå‡

### æ€§èƒ½å±‚é¢
- **æŸ¥è¯¢æ€§èƒ½**: æå‡20-30%
- **å†™å…¥æ€§èƒ½**: æå‡15-20%
- **ç´¢å¼•ç»´æŠ¤**: å‡å°‘40%

---

## ðŸ“ æ‰§è¡Œè®¡åˆ’

### é˜¶æ®µ1: æ¸…ç†æœªä½¿ç”¨è¡¨ï¼ˆç«‹å³ï¼‰
```bash
# å¤‡ä»½æ•°æ®åº“
mysqldump -u root -p trading_system > backup_before_cleanup.sql

# æ‰§è¡Œåˆ é™¤è„šæœ¬
mysql -u root -p trading_system < cleanup_unused_tables.sql
```

### é˜¶æ®µ2: åˆå¹¶å†—ä½™è¡¨ï¼ˆ1å‘¨å†…ï¼‰
```bash
# è¿ç§»æ•°æ®
# åˆ é™¤æ—§è¡¨
# æ›´æ–°ä»£ç å¼•ç”¨
```

### é˜¶æ®µ3: å­—æ®µä¼˜åŒ–ï¼ˆ2å‘¨å†…ï¼‰
```bash
# ä¼˜åŒ–strategy_judgments
# ä¼˜åŒ–simulation_trades
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¤‡ä»½ä¼˜å…ˆ**: æ‰€æœ‰æ“ä½œå‰å¿…é¡»å¤‡ä»½
2. **é€æ­¥æ‰§è¡Œ**: ä¸è¦ä¸€æ¬¡æ€§åˆ é™¤æ‰€æœ‰è¡¨
3. **ä»£ç åŒæ­¥**: åˆ é™¤è¡¨å‰ç¡®ä¿ä»£ç å·²æ›´æ–°
4. **æµ‹è¯•éªŒè¯**: æ¯ä¸ªé˜¶æ®µéƒ½è¦å……åˆ†æµ‹è¯•
5. **å›žæ»šå‡†å¤‡**: å‡†å¤‡å¥½å›žæ»šè„šæœ¬

---

**ç»“è®º**: å½“å‰æ•°æ®åº“å­˜åœ¨**52%çš„å†—ä½™**ï¼Œé€šè¿‡ä¼˜åŒ–å¯ä»¥å¤§å¹…ç®€åŒ–ç»“æž„ã€æå‡æ€§èƒ½ã€é™ä½Žç»´æŠ¤æˆæœ¬ã€‚å»ºè®®æŒ‰é˜¶æ®µæ‰§è¡Œä¼˜åŒ–æ–¹æ¡ˆã€‚

