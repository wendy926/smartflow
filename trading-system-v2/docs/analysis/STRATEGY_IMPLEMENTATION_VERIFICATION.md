# ç­–ç•¥å®ç°ä¸æ–‡æ¡£ä¸€è‡´æ€§éªŒè¯æŠ¥å‘Š

**æ—¥æœŸï¼š** 2025-10-08  
**ç›®çš„ï¼š** éªŒè¯V3ç­–ç•¥å’ŒICTç­–ç•¥çš„ä»£ç å®ç°æ˜¯å¦ä¸¥æ ¼æŒ‰ç…§åœ¨çº¿æ–‡æ¡£æè¿°å®ç°

---

## ğŸ“Š V3ç­–ç•¥å®ç°éªŒè¯

### 1. combineSignals æƒé‡åˆ†é…

#### æ–‡æ¡£æè¿°ï¼ˆhttps://smart.aimaventop.com/docsï¼‰
```
æƒé‡åˆ†é…ï¼š4Hè¶‹åŠ¿(50%) + 1Hå› å­(35%) + 15Må…¥åœº(15%)
æ€»åˆ†è®¡ç®—ï¼šåŠ æƒæ€»åˆ† = (è¶‹åŠ¿åˆ†/10Ã—0.5) + (å› å­åˆ†/6Ã—0.35) + (å…¥åœºåˆ†/5Ã—0.15)
```

#### å®é™…ä»£ç å®ç°ï¼ˆv3-strategy.js ç¬¬1023-1050è¡Œï¼‰
```javascript
calculateDynamicWeights(trendScore, factorScore, entryScore) {
  const baseWeights = { trend: 0.5, factor: 0.35, entry: 0.15 };  // åŸºç¡€æƒé‡

  // åŠ¨æ€è°ƒæ•´æƒé‡
  if (trendScore >= 8) {
    baseWeights.trend = 0.6;
    baseWeights.factor = 0.3;
    baseWeights.entry = 0.1;
  }
  // ... å…¶ä»–åŠ¨æ€è°ƒæ•´é€»è¾‘
}

// è®¡ç®—æ€»åˆ†ï¼ˆä½¿ç”¨åŠ¨æ€æƒé‡ï¼‰
const totalScore = (
  (trendScore / 10) * weights.trend +      // 4H: 0-10åˆ†
  (factorScore / 6) * weights.factor +     // 1H: 0-6åˆ†
  (entryScore / 5) * weights.entry         // 15M: 0-5åˆ†
);
```

#### âš ï¸ ä¸ä¸€è‡´é—®é¢˜1ï¼šåŠ¨æ€æƒé‡è°ƒæ•´

**æ–‡æ¡£è¯´æ˜ï¼š** å›ºå®šæƒé‡ 50%ã€35%ã€15%

**å®é™…å®ç°ï¼š** ä½¿ç”¨åŠ¨æ€æƒé‡è°ƒæ•´
- è¶‹åŠ¿å¾ˆå¼º(â‰¥8åˆ†)æ—¶ï¼š60%ã€30%ã€10%
- å› å­å¾ˆå¼º(â‰¥5åˆ†)æ—¶ï¼š45%ã€40%ã€15%
- å…¥åœºå¾ˆå¼º(â‰¥4åˆ†)æ—¶ï¼š50%ã€30%ã€20%

**é—®é¢˜ä¸¥é‡ç¨‹åº¦ï¼š** ğŸŸ¡ ä¸­ç­‰
**å½±å“ï¼š** å®é™…ç­–ç•¥æ¯”æ–‡æ¡£æè¿°æ›´å¤æ‚ï¼Œä½†è¿™æ˜¯ä¼˜åŒ–è€Œéé”™è¯¯
**å»ºè®®ï¼š** æ›´æ–°æ–‡æ¡£è¯´æ˜åŠ¨æ€æƒé‡è°ƒæ•´é€»è¾‘

---

### 2. ä¿¡å·è§¦å‘æ¡ä»¶

#### æ–‡æ¡£æè¿°
```
å¼ºä¿¡å·(BUY/SELL)ï¼šæ€»åˆ†â‰¥70% ä¸” è¶‹åŠ¿åˆ†â‰¥6 ä¸” å› å­åˆ†â‰¥5 ä¸” å…¥åœºåˆ†â‰¥1 ä¸” ç»“æ„åˆ†â‰¥1
ä¸­ç­‰ä¿¡å·(BUY/SELL)ï¼šæ€»åˆ†45-69% ä¸” è¶‹åŠ¿åˆ†â‰¥5 ä¸” å› å­åˆ†â‰¥4 ä¸” å…¥åœºåˆ†â‰¥1
```

#### å®é™…ä»£ç å®ç°ï¼ˆv3-strategy.js ç¬¬1192-1209è¡Œï¼‰
```javascript
// å¼ºä¿¡å·
if (normalizedScore >= 70 &&
  trendScore >= 6 &&
  factorScore >= adjustedThreshold.strong &&  // ä½¿ç”¨è°ƒæ•´åé—¨æ§›
  entryScore >= 1) {
  return trendDirection === 'UP' ? 'BUY' : 'SELL';
}

// ä¸­ç­‰ä¿¡å·
if (normalizedScore >= 45 &&
  normalizedScore < 70 &&
  trendScore >= 5 &&
  factorScore >= adjustedThreshold.moderate &&  // ä½¿ç”¨è°ƒæ•´åé—¨æ§›
  entryScore >= 1) {
  return trendDirection === 'UP' ? 'BUY' : 'SELL';
}
```

#### âš ï¸ ä¸ä¸€è‡´é—®é¢˜2ï¼šå› å­é—¨æ§›ä½¿ç”¨è°ƒæ•´åçš„å€¼

**æ–‡æ¡£è¯´æ˜ï¼š** å›ºå®šé—¨æ§›ï¼ˆå¼ºä¿¡å·å› å­â‰¥5ï¼Œä¸­ç­‰ä¿¡å·å› å­â‰¥4ï¼‰

**å®é™…å®ç°ï¼š** ä½¿ç”¨è¡¥å¿æœºåˆ¶åŠ¨æ€è°ƒæ•´é—¨æ§›
- `adjustedThreshold.strong` å¯èƒ½ < 5
- `adjustedThreshold.moderate` å¯èƒ½ < 4

**é—®é¢˜ä¸¥é‡ç¨‹åº¦ï¼š** ğŸŸ¡ ä¸­ç­‰
**å½±å“ï¼š** å®é™…å®ç°æ›´çµæ´»ï¼Œé¿å…ä¿¡å·æ­»åŒº
**å»ºè®®ï¼š** æ–‡æ¡£è¡¥å……è¯´æ˜è¡¥å¿æœºåˆ¶å’ŒåŠ¨æ€é—¨æ§›è°ƒæ•´

---

### 3. éœ‡è¡å¸‚äº¤æ˜“é€»è¾‘

#### æ–‡æ¡£æè¿°
```
ï¼ˆæ–‡æ¡£ä¸­æœªæ˜ç¡®è¯´æ˜éœ‡è¡å¸‚å¦‚ä½•å¤„ç†ï¼‰
```

#### å®é™…ä»£ç å®ç°ï¼ˆv3-strategy.js ç¬¬1177-1189è¡Œï¼‰
```javascript
if (trendDirection === 'RANGE') {
  logger.info(`éœ‡è¡å¸‚æ¨¡å¼: æ£€æŸ¥15Må‡çªç ´ä¿¡å·`);
  if (execution15M.signal && (execution15M.signal === 'BUY' || execution15M.signal === 'SELL')) {
    const reason = execution15M.reason || '';
    if (reason.includes('Range fake breakout') || reason.includes('éœ‡è¡å¸‚')) {
      logger.info(`âœ… éœ‡è¡å¸‚å‡çªç ´ä¿¡å·: ${execution15M.signal}, ç†ç”±: ${reason}`);
      return execution15M.signal;
    }
  }
  logger.info(`éœ‡è¡å¸‚æ— æœ‰æ•ˆå‡çªç ´ä¿¡å·ï¼ŒHOLD`);
  return 'HOLD';
}
```

#### âš ï¸ ä¸ä¸€è‡´é—®é¢˜3ï¼šéœ‡è¡å¸‚é€»è¾‘ç¼ºå¤±

**æ–‡æ¡£è¯´æ˜ï¼š** æ–‡æ¡£ä¸­æ²¡æœ‰æè¿°éœ‡è¡å¸‚çš„å¤„ç†é€»è¾‘

**å®é™…å®ç°ï¼š** å·²å®ç°éœ‡è¡å¸‚å‡çªç ´äº¤æ˜“é€»è¾‘

**é—®é¢˜ä¸¥é‡ç¨‹åº¦ï¼š** ğŸŸ¢ ä½
**å½±å“ï¼š** ä»£ç æ¯”æ–‡æ¡£æ›´å®Œå–„
**å»ºè®®ï¼š** æ–‡æ¡£è¡¥å……éœ‡è¡å¸‚äº¤æ˜“é€»è¾‘è¯´æ˜

---

### 4. æ æ†é™åˆ¶

#### æ–‡æ¡£æè¿°
```
æ æ†é™åˆ¶ï¼šæœ€å¤§20å€ï¼Œæœ€å°1å€
```

#### å®é™…ä»£ç å®ç°ï¼ˆv3-strategy.js calculateTradeParametersï¼‰
```javascript
// éœ€è¦æ£€æŸ¥å®é™…ä»£ç 
```

è®©æˆ‘æ£€æŸ¥è¿™éƒ¨åˆ†ä»£ç ï¼š

<function_calls>
<invoke name="grep">
<parameter name="pattern">leverage.*=.*min.*24|maxLeverage.*24
